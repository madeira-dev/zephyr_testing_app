# Create a machine instance
mach create "nrf52840_node"

# Load the platform description for nRF52840
machine LoadPlatformDescription @platforms/cpus/nrf52840.repl

# Load the ELF file onto the system bus of the created machine.
sysbus LoadELF @build/zephyr/zephyr.elf

# Expose UART0 as a host pty and *also* show the analyzer
emulation CreateUartPtyTerminal "uart0" "/Users/madeira/my_zephyr_projects/my_workspace/uart0.pty" true
connector Connect sysbus.uart0 uart0
showAnalyzer sysbus.uart0

# Start the simulation
start