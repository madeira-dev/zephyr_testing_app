# =======================================
# Library To Be Tested
# =======================================
CONFIG_HELLO_LIB=y

# =======================================
# Core C++ Support
# =======================================
CONFIG_CPP=y
CONFIG_STD_CPP17=y
CONFIG_NEWLIB_LIBC=y
CONFIG_REQUIRES_FULL_LIBCPP=y
CONFIG_PICOLIBC=n
CONFIG_PICOLIBC_USE_MODULE=n

CONFIG_CPP_EXCEPTIONS=y
CONFIG_CPP_RTTI=y

# =======================================
# Memory Configuration
# =======================================
# CHANGED: Reduced System Heap to ~32KB.
# We moved 132KB to the static "cpp_heap" in src/memory.cpp.
# 32KB is plenty for the kernel and C library (printf, etc).
CONFIG_HEAP_MEM_POOL_SIZE=4096

CONFIG_MAIN_STACK_SIZE=8192

# --- RANDOMNESS (CRITICAL) ---
# Without this, the PRNG returns 0s, crashing ModInverse/KeyGen
CONFIG_ENTROPY_GENERATOR=y
# Use Test RNG for emulators (Renode/QEMU)
CONFIG_TEST_RANDOM_GENERATOR=y

# Disable Boot Banner (Saves a tiny bit)
CONFIG_BOOT_BANNER=n

# If you don't need the shell/console input, strictly output only:
CONFIG_SHELL=n
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y

# Optimization flags
CONFIG_SIZE_OPTIMIZATIONS=y
CONFIG_NO_OPTIMIZATIONS=n
CONFIG_DEBUG_OPTIMIZATIONS=n

# Strip unused sections (Aggressive dead code removal)
CONFIG_LINKER_ORPHAN_SECTION_WARN=n

# =======================================
# Logging & Debugging
# =======================================
CONFIG_LOG=n
CONFIG_LOG_MODE_MINIMAL=n
